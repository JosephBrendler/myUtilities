echo -n "sourcing /usr/local/sbin/script_header_brendlefly ..."
source /usr/local/sbin/script_header_brendlefly ; right_status $?
checkroot

old_dir=$(pwd)
image_dir="/home/joe/My_bcm2708-rpi-b_project/images"
message_n "changing from $(pwd) to ${image_dir} ..."
cd ${image_dir}; right_status $?
message "now working in $(pwd)"

message "starting qemu-system-arm"
qemu-system-arm \
	-cpu arm1176 \
	-M raspi1ap \
	-m 512M -smp 1 \
	-dtb versatile-pb-bullseye-5.10.63.dtb \
	-kernel kernel.img-6.12.11 \
	-append "loglevel=0 \
	  console=tty1 \
	  root=/dev/mmcblk1p2 panic=1 rootfstype=ext4 rootwait \
	  fsck.repair=yes net.ifnames=0" \
	-drive if=sd,file=raspi132q1.img,format=raw \
	-device usb-host,hostbus=1,hostaddr=14 \
	-device usb-net,netdev=net0 \
	  -netdev user,id=net0,hostfwd=tcp::5555-:22 \
	&

message_n "changing from $(pwd) to ${old_dir} ..."
cd ${old_dir}; right_status $?
message "now working in $(pwd)"
message "qemu done; hit ENTER to continue"
read throwaway

#	-dtb bcm2708-rpi-b.dtb \

#	-append "rw loglevel=8 earlycon=pl011,0x3f201000 \
#	  console=ttyS0 console=ttyAMA0,115200 console=tty1 \
#	  dwc_otg.lpm_enable=0 root=/dev/mmcblk1p2 panic=1 rootfstype=ext4 rootwait \
#	  fsck.repair=yes net.ifnames=0" \

#	-audio none \

#	-device usb-net,netdev=net0 -netdev user,id=net0 \
#	-net nic -net user \

#	-M versatilepb \
#	-M virt \

#	-drive if=sd,file=raspi132q1.img,format=raw \

#	-device usb-host,hostbus=1,hostaddr=14 \

#	-serial stdio \

#	-m 512M -smp 1 \

#	-device ati-vga \

#	-append "rw earlyprintk loglevel=8 earlycon=pl011,0x3f201000 console=ttyAMA0,115200 \
#	  console=tty1 bcm2708_fb.fbwidth=720 bcm2708_fb.fbheight=480 bcm2708_fb.fbdepth=16 \
#	  bcm2708_fb.fbswap=1 vc_mem.mem_base=0x3f000000 vc_mem.mem_size=0x3f600000 \
#	  dwc_otg.lpm_enable=0 root=/dev/sda2 panic=1 rootfstype=ext4 rootwait \
#	  fsck.repair=yes net.ifnames=0" \

#	-nographic \

#	-device qemu-xhci -device usb-kbd -device usb-mouse \
#	-device -device usb-kbd -device usb-mouse \

