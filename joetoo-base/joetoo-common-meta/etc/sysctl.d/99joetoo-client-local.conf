# /etc/sysctl.d/99joetoo-client-local.conf
# Host network hardening and IPv6 privacy defaults for joetoo client machines
# (for router, use router-specific sysctl.conf provided separately)

# IPv4 forwarding
# 0 = do not forward IPv4 packets. Clients should not act as routers.
net.ipv4.ip_forward = 0

# Reverse path filtering
# Enable strict reverse path filtering to help block IP spoofing.
# 1 = enabled; drops packets with invalid source routing paths.
net.ipv4.conf.all.rp_filter = 1
net.ipv4.conf.default.rp_filter = 1

# Disable source routing
# Prevent acceptance of source-routed packets which can be abused.
net.ipv4.conf.all.accept_source_route = 0
net.ipv4.conf.default.accept_source_route = 0

# TCP SYN cookies
# Helps mitigate SYN flood attacks on exposed services.
net.ipv4.tcp_syncookies = 1

# IPv6 forwarding
# 0 = do not forward IPv6 packets. Only enable on routers/gateways.
net.ipv6.conf.all.forwarding = 0

# IPv6 privacy extensions
# Prefer temporary (privacy) addresses for outgoing connections.
# 0 = off, 1 = enabled but prefer public, 2 = enabled and prefer temporary.
net.ipv6.conf.default.use_tempaddr = 2
net.ipv6.conf.all.use_tempaddr = 2

# Temporary address lifetimes (seconds)
# temp_preferred_lft = how long a temporary address is preferred for outgoing use.
# temp_valid_lft = how long a temporary address remains valid before removal.
net.ipv6.conf.all.temp_preferred_lft = 86400   # 1 day
net.ipv6.conf.all.temp_valid_lft     = 604800  # 7 days

# Notes on per-interface overrides
# To override defaults for a specific interface, add lines like:
# net.ipv6.conf.eth1.use_tempaddr = 0
# net.ipv6.conf.br0.accept_ra = 0
# Use per-interface keys only when you need exceptions for servers or routers.
