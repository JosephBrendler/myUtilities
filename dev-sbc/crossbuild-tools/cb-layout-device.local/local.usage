#!/bin/bash
# source cb-layout-device - specific usage-module which should be built in the same format
# this file must contain legitimate bash assignments and commands
# it will be sourced by the using script via the sourcing of script_header_joetoo_extended usage() function
# Note: options i, n, s, r, v, q are already used by the default cmdline processor
echo
E_message "${BRon}minimal usage: ${BGon}${PN} ${BMon}-b${LBon} <BOARD> ${BMon}-o ${LBon}<OUTPUTDEVICE>${Boff}"
echo
message "  -b | --board <BOARD>.....: specify BOARD (selects crossbuild TARGET / mkdev source)"
message "  -o | --outputdevice <OUTPUTDEVICE>..: specify DEVICE to be formatted and flashed"
E_message "  -b and -o must be used separately and cannot be combined w/ other option letters"
E_message "  (for example: ${BGon}${PN} ${BMon}-b${Boff} <bd> ${BMon}-vo${Boff} <dev> ${BMon}will fail b/c of ${BRon}-vo${Boff})"
echo
message "${BMon}notes:${Boff}"
message "  ${BYon}(1) exactly one <BOARD> must be specified.  ${LBon}Examples:${Boff}"
joetoo-sbc-list | sed 's|^|      |'
echo
message "  ${BYon}(2) exactly one <TARGET> will be selected automatically. Examples:${Boff}"
message "      aarch64-unknown-linux-gnu"
message "      armv6j-unknown-linux-gnueabihf"
message "      armv7a-unknown-linux-gnueabihf"
echo
message "${BMon}find additionl information at /etc/crossbuild-tools/README"
echo
message "${BYon}(3) <OUTPUTDEVICE> must be a valid block device${Boff}"
message "  o ${LBon}crossbuild TARGET, BOARD, function as de facto SOURCES for ${PN} ${Boff}"
message "  o ${LBon}OUTPUTDEVICE functions as a defacto output target for ${PN}${Boff}"
echo
E_message "${BRon}*** Warning ***${BYon} this process will destroy all data on OUTPUTDEVICE${Boff}"
echo
message "Note: these candidate devices are present in your system but not mounted"
echo
list_unused_disks
echo
E_message "${BRon}*** Warning ***${BYon} this process will destroy all data on OUTPUTDEVICE${Boff}"
exit 1
